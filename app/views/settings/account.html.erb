<div class="auth-container">
  <h1>Account Settings</h1>

  <% if @user.errors.any? %>
    <div class="form-errors">
      <h3>Please fix the following errors:</h3>
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <h2>Profile</h2>
  <%= form_with model: @user, url: settings_account_path, method: :patch do |f| %>
    <div class="form-group">
      <%= f.label :username %>
      <%= f.text_field :username, autofocus: true %>
    </div>

    <div class="form-group">
      <%= f.label :email_address, "Email" %>
      <%= f.email_field :email_address %>
    </div>

    <div class="form-group">
      <%= f.submit "Update Profile" %>
    </div>
  <% end %>

  <hr style="margin: 2rem 0; border: none; border-top: 1px solid #ddd;">

  <h2>Change Password</h2>
  <%= form_with url: settings_password_path, method: :patch do |form| %>
    <div class="form-group">
      <%= form.label :current_password, "Current Password" %>
      <%= form.password_field :current_password, required: true, autocomplete: "current-password" %>
    </div>

    <div class="form-group">
      <%= form.label :password, "New Password" %>
      <%= form.password_field "user[password]", required: true, autocomplete: "new-password", placeholder: "At least 6 characters" %>
    </div>

    <div class="form-group">
      <%= form.label :password_confirmation, "Confirm New Password" %>
      <%= form.password_field "user[password_confirmation]", required: true, autocomplete: "new-password" %>
    </div>

    <div class="form-group">
      <%= form.submit "Update Password" %>
    </div>
  <% end %>

  <p style="text-align: center; margin-top: 2rem;">
    <%= link_to "Back to Feed", root_path %>
  </p>
</div>
